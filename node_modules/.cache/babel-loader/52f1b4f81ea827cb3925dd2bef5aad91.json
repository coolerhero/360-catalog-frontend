{"ast":null,"code":"var _jsxFileName = \"/Users/miguelpereira/Documents/360-CATALOG-MODULES/catalog-funnel-frontend/react_app/src/App.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport React, { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport ReactDOM from 'react-dom';\nimport PricePage from './PricePage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App(props) {\n  _s();\n\n  const [productTypesArray, setProductTypesArray] = useState([]);\n  const [locationArray, setLocationArray] = useState([]);\n  const [productQuantityArray, setProductQuantityArray] = useState([]);\n  const [serviceTypesArray, setServiceTypesArray] = useState([]);\n  const url = 'https://catalog-360-funnel-api.herokuapp.com/';\n  const urlLocal = \"http://localhost:8080/\";\n  const headers = {\n    \"Authorization\": props.token,\n    \"Access-Control-Allow-Origin\": \"*\" //'Access-Control-Allow-Origin' : 'http://localhost:3000',\n    //'Access-Control-AllowMethods':'GET,PUT,POST,DELETE,PATCH,OPTIONS'\n\n  };\n  const authAxios = axios.create({\n    baseUrl: url,\n    withCredential: true,\n    headers: {\n      Authorization: props.token //AccessControl:'http://localhost:3000',\n      //AllowMethods:'GET,PUT,POST,DELETE,PATCH,OPTIONS'\n\n    }\n  }); //FETCH INITIAL DATA\n\n  useEffect(() => {\n    authAxios.get(url + \"rate/listProdType\", {\n      headers: headers\n    }).then(response => {\n      setProductTypesArray(response.data);\n      console.log(props.token);\n    }, error => {\n      console.log(error);\n    });\n  }, []); //location\n\n  useEffect(() => {\n    authAxios.get(url + \"rate/listLocs\", headers).then(response => {\n      setLocationArray(response.data);\n    }, error => {\n      console.log(error);\n    });\n  }, []); //productQuantity\n\n  useEffect(() => {\n    authAxios.get(url + \"rate/listProdQuant\", headers).then(response => {\n      setProductQuantityArray(response.data);\n    }, error => {\n      console.log(error);\n    });\n  }, []); //ServiceTypes\n\n  useEffect(() => {\n    authAxios.get(url + \"rate/listServTypes\", headers).then(response => {\n      setServiceTypesArray(response.data);\n    }, error => {\n      console.log(error);\n    });\n  }, []); //FETCH INITIAL DATA\n\n  const [form, setForm] = useState({\n    name: \"\",\n    businessName: \"\",\n    serviceTypes: [],\n    product_type: \"SHOES\",\n    product_quantity: \"25\",\n    form_location: \"LISBON\",\n    email: \"\"\n  });\n  const [count, setCount] = useState(1);\n  const isFinalPage = false;\n\n  const updateForm = e => {\n    setForm({ ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const updateServices = e => {\n    let name = e.target.value;\n\n    if (e.target.checked === true) {\n      form.serviceTypes.push({\n        name: name\n      });\n    }\n\n    if (e.target.checked === false) {\n      for (let i = 0; i < form.serviceTypes.length; i++) {\n        if (e.target.value === form.serviceTypes[i].name) {\n          form.serviceTypes.splice(i, 1);\n        }\n      }\n    }\n  };\n\n  function sendform() {\n    let serviceTObject = [];\n\n    for (let i = 0; i < form.serviceTypes.length; i++) {\n      console.log(form.serviceTypes[i]);\n      serviceTObject.push({\n        name: form.serviceTypes[i].name\n      });\n    }\n\n    const dataSend = {\n      \"user\": {\n        \"personName\": form.name,\n        \"businessName\": form.businessName,\n        \"email\": form.email\n      },\n      \"serviceType\": serviceTObject,\n      \"productType\": {\n        \"name\": form.product_type\n      },\n      \"productQuantity\": {\n        \"quantity\": form.product_quantity\n      },\n      \"location\": {\n        \"name\": form.form_location\n      }\n    };\n    const data = dataSend;\n    authAxios.post(url + \"/createForm\", data, headers).then(response => {\n      let formId = response.data.id;\n      authAxios.get(url + \"/getResults?id=\" + formId, headers).then(response => {\n        ReactDOM.render( /*#__PURE__*/_jsxDEV(React.StrictMode, {\n          children: /*#__PURE__*/_jsxDEV(PricePage, {\n            token: props.token,\n            formId: formId,\n            offer: response.data\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 7\n        }, this), document.getElementById('root'));\n      }, error => {\n        console.log(error);\n        console.log(error.Authorization);\n      });\n    }, error => {\n      console.log(error);\n      console.log(error.Authorization);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        display: isFinalPage ? \"none\" : \"inline\"\n      },\n      children: [\"Step \", count, \" of 3\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"col-4 form\",\n      style: {\n        display: isFinalPage ? \"none\" : \"inline\"\n      },\n      target: \"_self\",\n      children: [count === 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Your name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          name: \"name\",\n          onChange: updateForm,\n          value: form.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Name of your business\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          name: \"businessName\",\n          onChange: updateForm,\n          value: form.businessName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Your email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          className: \"form-control\",\n          name: \"email\",\n          onChange: updateForm,\n          value: form.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 11\n      }, this) : null, count === 2 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Select the services you need to present your products in a 360 View\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"To convert your catalog into 360 you have several  processes including \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 91\n          }, this), \" 360 photgraphy and software integrations to display and \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 157\n          }, this), \" allow your clients to interact with your product\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: serviceTypesArray.map(serviceType => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              name: \"serviceTypes\",\n              onChange: updateServices,\n              value: serviceType.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 20\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"cb1\",\n              children: serviceType.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 11\n      }, this) : null, count === 3 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Select your product type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          defaultInputValue: productTypesArray[0].name,\n          name: \"product_type\",\n          id: \"product_type\",\n          onChange: updateForm,\n          value: form.product_type,\n          children: productTypesArray.map(productType => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: productType.name,\n            children: productType.name\n          }, productType.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Select the number of products in your catalog\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          defaultInputValue: productQuantityArray[0].name,\n          name: \"product_quantity\",\n          id: \"product_quantity\",\n          onChange: updateForm,\n          value: form.product_quantity,\n          children: productQuantityArray.map(prodQuant => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: prodQuant.name,\n            children: prodQuant.name\n          }, prodQuant.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Select the nearest location to your business\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          defaultInputValue: \"portooo\",\n          name: \"form_location\",\n          id: \"form_location\",\n          onChange: updateForm,\n          value: form.form_location,\n          children: locationArray.map(location => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: location.name,\n            children: location.name\n          }, location.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 11\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: sendform,\n        children: \"Confirm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this), count === 4 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Please confirm your information or go back and fix it\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 11\n      }, this) : null, count === 4 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [form.name, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 28\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-dark\",\n      type: \"submit\",\n      formTarget: \"_self\",\n      onClick: () => setCount(count - 1),\n      disabled: count < 2,\n      style: {\n        display: isFinalPage ? \"none\" : \"inline\"\n      },\n      children: \"Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-light\",\n      type: \"submit\",\n      onClick: () => setCount(count + 1),\n      disabled: count > 3,\n      style: {\n        display: isFinalPage ? \"none\" : \"inline\"\n      },\n      children: \"Next\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 219,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"Q8fFFvIX/qO+yb+NPxIohT+1NcA=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/miguelpereira/Documents/360-CATALOG-MODULES/catalog-funnel-frontend/react_app/src/App.js"],"names":["React","useState","useEffect","axios","ReactDOM","PricePage","App","props","productTypesArray","setProductTypesArray","locationArray","setLocationArray","productQuantityArray","setProductQuantityArray","serviceTypesArray","setServiceTypesArray","url","urlLocal","headers","token","authAxios","create","baseUrl","withCredential","Authorization","get","then","response","data","console","log","error","form","setForm","name","businessName","serviceTypes","product_type","product_quantity","form_location","email","count","setCount","isFinalPage","updateForm","e","target","value","updateServices","checked","push","i","length","splice","sendform","serviceTObject","dataSend","post","formId","id","render","document","getElementById","display","map","serviceType","productType","prodQuant","location"],"mappings":"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","sourcesContent":["import './App.css';\nimport React, { useState ,useEffect} from \"react\" \nimport axios from 'axios';\nimport ReactDOM from 'react-dom';\nimport PricePage from './PricePage';\n\n\nfunction App(props) {\n\n  const [productTypesArray, setProductTypesArray] = useState([])\n  const [locationArray,setLocationArray] = useState([])\n  const [productQuantityArray,setProductQuantityArray] = useState([])\n  const [serviceTypesArray,setServiceTypesArray] = useState([])\n  const url = 'https://catalog-360-funnel-api.herokuapp.com/';\n  const urlLocal = \"http://localhost:8080/\";\n\n  \n\n  const headers = {\n    \"Authorization\":props.token,\n    \"Access-Control-Allow-Origin\": \"*\"\n    //'Access-Control-Allow-Origin' : 'http://localhost:3000',\n    //'Access-Control-AllowMethods':'GET,PUT,POST,DELETE,PATCH,OPTIONS'\n  }\n\n  const authAxios = axios.create({\n    baseUrl : url,\n    withCredential: true,\n    headers:{\n      Authorization: props.token,\n      //AccessControl:'http://localhost:3000',\n      //AllowMethods:'GET,PUT,POST,DELETE,PATCH,OPTIONS'\n      \n    }\n  })\n\n  //FETCH INITIAL DATA\n\n  \n    useEffect(() => {\n\n    authAxios.get(url+\"rate/listProdType\",{headers:headers}).then((response) => {\n      setProductTypesArray(response.data);\n      console.log(props.token);\n      \n    }, (error) => {\n      console.log(error);\n   \n    },);\n\n    },[])\n\n    //location\n    useEffect(() => {\n      \n      authAxios.get(url+\"rate/listLocs\", headers).then((response) => {\n        setLocationArray(response.data);\n        \n      }, (error) => {\n        console.log(error);\n     \n      },);\n      },[])\n  \n      //productQuantity\n      useEffect(() => {\n        \n        authAxios.get(url+\"rate/listProdQuant\", headers).then((response) => {\n          setProductQuantityArray(response.data);\n          \n        }, (error) => {\n          console.log(error);\n       \n        },);\n        },[])\n\n        //ServiceTypes\n        useEffect(() => {\n          \n          authAxios.get(url+\"rate/listServTypes\", headers).then((response) => {\n            setServiceTypesArray(response.data);\n            \n          }, (error) => {\n            console.log(error);\n         \n          },);\n          },[])\n      \n          \n\n\n\n  //FETCH INITIAL DATA\n\n  const [form, setForm] = useState({\n    name: \"\",\n    businessName: \"\",\n    serviceTypes:[],\n    product_type:\"SHOES\",\n    product_quantity:\"25\",\n    form_location:\"LISBON\",\n    email:\"\"\n  })\n\n  \n\n  const [count, setCount] = useState(1)\n  const isFinalPage = false;\n  const updateForm = (e) => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value,\n    })\n\n\n  }\n\n  const updateServices = (e) => {\n    \n    let name  = e.target.value;\n    \n    \n    if(e.target.checked === true){\n      form.serviceTypes.push({\n        name:name\n      })\n    }\n\n    if(e.target.checked === false){\n     \n   \n\n      for(let i = 0; i < form.serviceTypes.length ;i++){\n       \n        \n        if(e.target.value === form.serviceTypes[i].name){\n          form.serviceTypes.splice(i, 1);\n        }\n      }\n      \n    }\n\n    \n  }\n  \n\n\nfunction sendform(){\n\n  \n  let serviceTObject = [];\n\n  for(let i = 0; i < form.serviceTypes.length; i++){\n\n    console.log(form.serviceTypes[i]);\n\n    serviceTObject.push({\n      name:form.serviceTypes[i].name\n    })\n  }\n\n  const dataSend = {\n    \"user\":{\n        \"personName\":form.name,\n            \"businessName\":form.businessName,\n            \"email\":form.email\n    },\n\n    \"serviceType\":serviceTObject,\n\n    \"productType\":{\n        \"name\":form.product_type,\n    },\n\n    \"productQuantity\":{\n        \"quantity\":form.product_quantity\n    },\n    \"location\":{\n        \"name\":form.form_location\n    }\n\n    \n\n}\n  \n  const data = dataSend;\n\n  authAxios.post(url+\"/createForm\", data, headers).then((response) => {\n\n    let formId = response.data.id;\n    \n  \n  authAxios.get(url+\"/getResults?id=\"+formId, headers).then((response) => {\n   ReactDOM.render(\n      <React.StrictMode>\n        <PricePage token={props.token} formId={formId} offer={response.data} />\n      </React.StrictMode>,\n      document.getElementById('root')\n    );\n  \n  }, (error) => {\n    console.log(error);\n    console.log(error.Authorization);\n  });\n  }, (error) => {\n    console.log(error);\n    console.log(error.Authorization);\n  });\n\n}\n\n\n\n\n  return (\n\n   \n\n    <div className=\"App\">\n      \n      <h1 style={{display:isFinalPage ? \"none\" : \"inline\"}}>Step {count} of 3</h1>\n      \n      <form\n        className=\"col-4 form\"\n        style={{display:isFinalPage ? \"none\" : \"inline\"}}\n        target='_self'\n      >\n        {count === 1 ? (\n          <div className=\"form-group\">\n            <label>Your name</label>\n            <input\n              className=\"form-control\"\n              name=\"name\"\n              onChange={updateForm}\n              value={form.name}\n            />\n            <label>Name of your business</label>\n            <input\n              className=\"form-control\"\n              name=\"businessName\"\n              onChange={updateForm}\n              value={form.businessName}\n            />\n            \n          <label>Your email</label>\n          <input\n            type=\"email\"\n            className=\"form-control\"\n            name=\"email\"\n            onChange={updateForm}\n            value={form.email}\n          />\n          \n          </div>\n        ) : null}\n        {count === 2 ? (\n          <div className=\"form-group\">\n            <label>Select the services you need to present your products in a 360 View</label>\n            <label>To convert your catalog into 360 you have several  processes including <br></br> 360 photgraphy and software integrations to display and <br></br> allow your clients to interact with your product</label>\n            <ul>\n              {\n\n              serviceTypesArray.map(serviceType => (\n\n                \n              \n              <li ><input type=\"checkbox\"   name=\"serviceTypes\"\n                          onChange={updateServices}\n                          value={serviceType.name}/>\n                <label for=\"cb1\">{serviceType.name}</label>\n              </li>\n\n              ))\n              }\n            </ul>\n          </div>\n        ) : null}\n        {count === 3 ? (\n          <div className=\"form-group\">\n            <label>Select your product type</label>\n            <select defaultInputValue={productTypesArray[0].name} name=\"product_type\" id=\"product_type\" onChange={updateForm} value={form.product_type}>\n            {\n              productTypesArray.map(productType => ( \n                <option key={productType.id} value={productType.name}>{productType.name}</option>))\n              }\n             \n            </select>\n            \n            <label>Select the number of products in your catalog</label>\n            <select defaultInputValue={productQuantityArray[0].name} name=\"product_quantity\" id=\"product_quantity\" onChange={updateForm} value={form.product_quantity}>\n            {\n              productQuantityArray.map(prodQuant => ( \n                <option key={prodQuant.id} value={prodQuant.name}>{prodQuant.name}</option>))\n              }\n              \n            </select>\n\n            <label>Select the nearest location to your business</label>\n            <select defaultInputValue={\"portooo\"} name=\"form_location\" id=\"form_location\" onChange={updateForm} value={form.form_location}>\n            \n            {\n              \n              locationArray.map(location => ( \n                <option key={location.id} value={location.name}>{location.name}</option>))\n              }\n            </select>\n          </div>\n\n        ) : null}\n        <button onClick={sendform}>Confirm</button>\n        {count === 4 ? (\n          <div className=\"form-group\">\n          <h1>Please confirm your information or go back and fix it</h1>\n          </div>\n        ):null}\n\n        {count === 4 ? (\n          <div className=\"form-group\">\n            \n            <h1>{form.name}<br></br></h1>\n         \n            \n            \n         \n          </div>\n        ):null}\n\n        \n\n        \n          </form>\n          <button\n        className=\"btn btn-dark\"\n        type=\"submit\"\n        formTarget=\"_self\"\n        onClick={() => setCount(count - 1)}\n        disabled={count < 2}\n        style={{display:isFinalPage ? \"none\" : \"inline\"}}\n      >\n        Back\n      </button>\n      <button\n        className=\"btn btn-light\"\n        type=\"submit\"\n        onClick={() => setCount(count + 1)}\n        disabled={count > 3}\n        style={{display:isFinalPage ? \"none\" : \"inline\"}}\n        \n      >\n        Next\n      </button>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}